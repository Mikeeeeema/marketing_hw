<h1>File Explore</h1>
<ng-container *ngFor="let item of sort(data)">
  <ng-template
    [ngTemplateOutlet]="recursiveList"
    [ngTemplateOutletContext]="{ $implicit: item, level: 0 }"
  ></ng-template>
</ng-container>

<ng-template #recursiveList let-item let-level="level">
  <div [style.paddingLeft.px]="level * 20">
    <span *ngIf="item.children; else file" [style.fontWeight]="'bold'">
      {{ item.name }}
      <button (click)="toggle(item.id)">
        <!-- @if(isExpanded(item.id)){ [-] } @else{ [+] } -->
        {{ isExpanded(item.id) ? "[-]" : "[+]" }}
      </button>
      <div *ngIf="isExpanded(item.id)">
        <ng-container *ngFor="let child of sort(item.children)">
          <ng-template
            [ngTemplateOutlet]="recursiveList"
            [ngTemplateOutletContext]="{ $implicit: child, level: level + 1 }"
          ></ng-template>
        </ng-container>
      </div>
    </span>
    <!-- *ngIf è¯­æ³•ç³–è‡ªå·±çŸ¥é“å¦‚ä½•å»æ‰¾æ¨¡æ¿å¼•ç”¨å˜é‡ï¼›else åé¢ç›´æ¥è·Ÿç€æ¨¡æ¿å¼•ç”¨åï¼›Angular ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨å»æŸ¥æ‰¾å½“å‰ä½œç”¨åŸŸä¸‹çš„ #file æ¨¡æ¿ï¼Œå¹¶åœ¨ false åˆ†æ”¯æ—¶æ¸²æŸ“å®ƒã€‚ -->
    <ng-template #file>
      <span [style.fontWeight]="'normal'"> {{ item.name }} </span>
    </ng-template>
  </div>
</ng-template>
<!-- <ul>
  <ng-container *ngFor="let item of sortItems(data)">
    <ng-template
      [ngTemplateOutlet]="recursiveList"
      [ngTemplateOutletContext]="{ $implicit: item, level: 0 }"
    ></ng-template>
  </ng-container>
</ul>

<ng-template #recursiveList let-item let-level="level">
  <li [style.paddingLeft.px]="level * 20">
    <span *ngIf="item.children; else file">
      <button (click)="toggle(item.id)">
        {{ isExpanded(item.id) ? "ğŸ“‚" : "ğŸ“" }}
      </button>
      {{ item.name }}
      <ul *ngIf="isExpanded(item.id)">
        <ng-container *ngFor="let child of sortItems(item.children!)">
          <ng-template
            [ngTemplateOutlet]="recursiveList"
            [ngTemplateOutletContext]="{ $implicit: child, level: level + 1 }"
          ></ng-template>
        </ng-container>
      </ul>
    </span>
    <ng-template #file> ğŸ“„ {{ item.name }} </ng-template>
  </li>
</ng-template> -->
